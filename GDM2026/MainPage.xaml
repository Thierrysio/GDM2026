<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GDM2026.MainPage"
             BackgroundColor="#0B0B0B">

    <ContentPage.Resources>
        <Color x:Key="GoldText">#D4AF37</Color>
        <Color x:Key="CardBackground">#151515</Color>
        <Color x:Key="ControlBackground">#1E1E1E</Color>
        <Color x:Key="Accent">#C18F1A</Color>

        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{StaticResource GoldText}" />
        </Style>
        <Style TargetType="Entry">
            <Setter Property="TextColor" Value="{StaticResource GoldText}" />
            <Setter Property="PlaceholderColor" Value="#7E7030" />
            <Setter Property="BackgroundColor" Value="{StaticResource ControlBackground}" />
            <Setter Property="HeightRequest" Value="48" />
            <Setter Property="Margin" Value="0,8,0,0" />
            <Setter Property="Padding" Value="12,6" />
            <Setter Property="CursorColor" Value="{StaticResource GoldText}" />
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Color" Value="{StaticResource GoldText}" />
            <Setter Property="BackgroundColor" Value="{StaticResource ControlBackground}" />
            <Setter Property="HeightRequest" Value="24" />
            <Setter Property="WidthRequest" Value="24" />
        </Style>
        <Style TargetType="Button">
            <Setter Property="BackgroundColor" Value="{StaticResource Accent}" />
            <Setter Property="TextColor" Value="{StaticResource GoldText}" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="HeightRequest" Value="56" />
        </Style>
    </ContentPage.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="1*" />
        </Grid.RowDefinitions>

        <VerticalStackLayout
            Grid.Row="0"
            HorizontalOptions="Center"
            Padding="24,36,24,12"
            Spacing="12">
            <Image
                Source="logo.jpg"
                HeightRequest="140"
                Aspect="AspectFit"
                AutomationId="PageHeaderLogo" />

            <Label
                Text="Dantec Market"
                FontSize="32"
                FontAttributes="Bold"
                HorizontalTextAlignment="Center"
                TextColor="{StaticResource GoldText}" />
        </VerticalStackLayout>

        <VerticalStackLayout
            Grid.Row="1"
            VerticalOptions="Center"
            HorizontalOptions="Center"
            WidthRequest="420"
            Padding="24"
            Spacing="18">
            <Border
                BackgroundColor="{StaticResource CardBackground}"
                Padding="24"
                Stroke="#262626"
                SemanticProperties.Description="Formulaire de connexion administrateur">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="18" />
                </Border.StrokeShape>
                <Border.Shadow>
                    <Shadow />
                </Border.Shadow>
                <VerticalStackLayout Spacing="16">
                    <Label
                        Text="Espace administrateur"
                        FontSize="28"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center" />

                    <Label Text="Connectez-vous pour continuer" FontSize="16" HorizontalTextAlignment="Center" />

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Identifiant" />
                        <Entry Placeholder="admin" ReturnType="Next" Text="{Binding Username}" />
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="4">
                        <Label Text="Mot de passe" />
                        <Entry Placeholder="Mot de passe" IsPassword="True" ReturnType="Go" Text="{Binding Password}" />
                    </VerticalStackLayout>

                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10" VerticalOptions="Center">
                        <CheckBox IsChecked="{Binding RememberMe}" />
                        <Label Text="Se souvenir de moi" VerticalTextAlignment="Center" Grid.Column="1" />
                    </Grid>

                    <Button
                        Text="Se connecter"
                        Command="{Binding LoginCommand}" />

                    <Label Text="{Binding FeedbackMessage}"
                           TextColor="{Binding FeedbackColor}"
                           FontSize="14"
                           HorizontalTextAlignment="Center" />
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </Grid>

</ContentPage>
